{"version":3,"sources":["window/editor/editors/StyledEditor.ts"],"names":[],"mappings":"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","file":"StyledEditor.js","sourcesContent":["import {Editor, EditorOptions} from \"./Editor\";\nimport {func as styleSwitcherTemplate} from \"../template/style-switcher.html\";\nimport {JQuery as $} from \"pmc-web\";\nimport { component } from \"pmc-web\";\n\nexport interface DataWithStyle {\n    style: Style;\n}\n\nexport interface Style {\n    name?: string;\n    fontSize?: string;\n    margin?: string;\n}\n\nexport interface StyleSwitcherTemplateModel {\n    id: string;\n    style: Style;\n}\n\nexport interface FontSizeSwitcherTemplateModel {\n    id: string;\n    style: Style;\n}\n\nexport class StyledEditor<T extends DataWithStyle> extends Editor<T> {\n    \n    static clazz = \"StyledEditor\";\n    \n    styleSwitcherID: string;\n    \n    constructor(options: EditorOptions) {\n        super(options);\n        this.styleSwitcherID = randomID();\n        this.bindStyleSwitcherEvents();\n    }\n    \n    initContainer(): void {\n        super.initContainer();\n        this.initStyle();\n    }\n    \n    bindStyleSwitcherEvents(): void {\n        $(\"body\").on(\"click\", \"#\" + this.styleSwitcherID + \" [data-action=switch-style]\", this.onSwitchStyleClick.bind(this));\n        $(\"body\").on(\"click\", \"#\" + this.styleSwitcherID + \" [data-action=open]\", this.onSwitchStyleTriggerClick.bind(this));\n        $(\"body\").on(\"click\", \"#\" + this.styleSwitcherID + \" .backdrop\", this.onSwitchStyleBackdropClick.bind(this));\n        $(\"body\").on(\"click\", \"#\" + this.styleSwitcherID + \" [data-action=switch-font-size]\", this.onSwitchFontSizeClick.bind(this));\n        $(\"body\").on(\"click\", \"#\" + this.styleSwitcherID + \" [data-action=switch-margin]\", this.onSwitchMarginClick.bind(this));\n        $(\"body\").on(\"click\", \"#font-size-\" + this.styleSwitcherID + \" [data-action=open]\", this.onSwitchFontSizeTriggerClick.bind(this));\n        $(\"body\").on(\"click\", \"#font-size-\" + this.styleSwitcherID + \" .backdrop\", this.onSwitchFontSizeBackdropClick.bind(this));\n    }\n    \n    initStyle(): void {\n        if (this.data.style && this.data.style.name) {\n            this.$body.attr(\"data-style-name\", this.data.style.name);\n        }\n        else {\n            this.$body.attr(\"data-style-name\", this.preferences.style || \"default\");\n        }\n        this.$container.css(\"font-size\", this.data.style && this.data.style.fontSize ? this.data.style.fontSize : component.mindmap.Mindmap.DEFAULT_FONT_SIZE);\n        this.setMargin(this.data.style.margin);\n    }\n    \n    setStyle(name: string, fontSize: string, margin: string): void {\n        if (name || fontSize || margin) {\n            this.data.style = {\n                name: name ? name : (this.data.style ? this.data.style.name : component.mindmap.Mindmap.DEFAULT_STYLE_NAME),\n                fontSize: fontSize ? fontSize : (this.data.style ? this.data.style.fontSize : component.mindmap.Mindmap.DEFAULT_FONT_SIZE),\n                margin: margin ? margin : (this.data.style ? this.data.style.margin : component.mindmap.Mindmap.DEFAULT_MARGIN),\n            };\n            this.$body.attr(\"data-style-name\", name);\n        }\n        else {\n            this.data.style = {};\n            this.$body.removeAttr(\"data-style-name\");\n        }\n        this.$container.css(\"font-size\", this.data.style && this.data.style.fontSize ? this.data.style.fontSize : component.mindmap.Mindmap.DEFAULT_FONT_SIZE);\n        this.setMargin(this.data.style.margin);\n        this.triggerEvent(\"change\", this.isChanged());\n        this.refreshStyleSwitcherStateView();\n        this.refreshFontSizeSwitcherStateView();\n        this.focus();\n    }\n    \n    setMargin(marginPercentStr: string): void {\n        // let marginPercent = parseInt(marginPercentStr);\n        // let $el = this.$container.closest(\".main-content\");\n        // let $editor = $el.find(\".editor\");\n        this.$body.attr(\"data-editor-margin\", marginPercentStr);\n        // $el.css(\"margin-left\", marginPercentStr);\n        // $el.css(\"margin-right\", marginPercentStr);\n        // $el.css(\"width\", `calc(100% - ${marginPercent * 2}%)`);\n        // $editor.css(\"left\", `calc(14px + ${marginPercent}%)`);\n        // $editor.css(\"right\", `calc(14px + ${marginPercent}%)`);\n    }\n    \n    getStyleSwitcherTemplateModel(): StyleSwitcherTemplateModel {\n        return {\n            id: this.styleSwitcherID,\n            style: this.data.style,\n        };\n    }\n    \n    getFontSizeSwitcherTemplateModel(): StyleSwitcherTemplateModel {\n        return {\n            id: this.styleSwitcherID,\n            style: this.data.style,\n        };\n    }\n    \n    getCustomToolbarMenuHtml(): string {\n        let model = this.getStyleSwitcherTemplateModel();\n        return this.parent.viewManager.getTemplateManager().createTemplate(styleSwitcherTemplate).render(model);// + this.parent.viewManager.getTemplateManager().createTemplate(fontSizeSwitcherTemplate).render(model);\n    }\n\n    getCustomToolbarRightSideMenuHtml(): string {\n        return \"\";\n    }\n    \n    getStyleSwitcher(): JQuery {\n        return $(\"#\" + this.styleSwitcherID);\n    }\n    \n    getFontSizeSwitcher(): JQuery {\n        return $(\"#font-size-\" + this.styleSwitcherID);\n    }\n    \n    refreshStyleSwitcherStateView(): void {\n        let $items = $(\"#\" + this.styleSwitcherID).find(\"[data-action=switch-style]\");\n        $items.filter('.active').removeClass('active');\n        if (this.data.style && this.data.style.name) {\n            $items.filter('[data-name=\"' + this.data.style.name + '\"]').addClass(\"active\");\n        }\n        this.refreshFontSizeSwitcherStateView();\n        this.refreshMarginSwitcherStateView();\n    }\n    \n    refreshFontSizeSwitcherStateView(): void {\n        let $items = $(\"#\" + this.styleSwitcherID).find(\"[data-action=switch-font-size]\");\n        $items.filter('.active').removeClass('active');\n        if (this.data.style && this.data.style.fontSize) {\n            $items.filter('[data-name=\"' + this.data.style.fontSize + '\"]').addClass(\"active\");\n        }\n    }\n    \n    refreshMarginSwitcherStateView(): void {\n        let $items = $(\"#\" + this.styleSwitcherID).find(\"[data-action=switch-margin]\");\n        $items.filter('.active').removeClass('active');\n        if (this.data.style && this.data.style.margin) {\n            $items.filter('[data-name=\"' + this.data.style.margin + '\"]').addClass(\"active\");\n        }\n    }\n    \n    onSwitchStyleClick(event: Event): void {\n        this.setStyle($(event.currentTarget).data(\"name\"), undefined, undefined);\n        this.hideStyleSwitcher();\n    }\n    \n    onSwitchFontSizeClick(event: Event): void {\n        this.setStyle(undefined, $(event.currentTarget).data(\"name\"), undefined);\n        this.hideStyleSwitcher();\n        //this.hideFontSizeSwitcher();\n    }\n    \n    onSwitchMarginClick(event: Event): void {\n        this.setStyle(undefined, undefined, $(event.currentTarget).data(\"name\"));\n        this.hideStyleSwitcher();\n        //this.hideFontSizeSwitcher();\n    }\n    \n    onSwitchStyleTriggerClick(): void {\n        this.toggleStyleSwitcher();\n    }\n    \n    onSwitchFontSizeTriggerClick(): void {\n        this.toggleFontSizeSwitcher();\n    }\n    \n    onSwitchStyleBackdropClick(): void {\n        this.hideStyleSwitcher();\n    }\n    \n    onSwitchFontSizeBackdropClick(): void {\n        this.hideFontSizeSwitcher();\n    }\n    \n    hideStyleSwitcher(): void {\n        let $switcher = this.getStyleSwitcher();\n        $switcher.removeClass(\"open\");\n        $switcher.closest(\".toolbar-container\").trigger(\"mouseout\");\n    }\n    \n    hideFontSizeSwitcher(): void {\n        let $switcher = this.getFontSizeSwitcher();\n        $switcher.removeClass(\"open\");\n        $switcher.closest(\".toolbar-container\").trigger(\"mouseout\");\n    }\n    \n    showStyleSwitcher(): void {\n        this.refreshStyleSwitcherStateView();\n        this.getStyleSwitcher().addClass(\"open\");\n    }\n    \n    showFontSizeSwitcher(): void {\n        this.refreshFontSizeSwitcherStateView();\n        this.getFontSizeSwitcher().addClass(\"open\");\n    }\n    \n    toggleStyleSwitcher(): void {\n        let $switcher = this.getStyleSwitcher();\n        if ($switcher.hasClass(\"open\")) {\n            this.hideStyleSwitcher();\n        }\n        else {\n            this.showStyleSwitcher();\n        }\n    }\n    \n    toggleFontSizeSwitcher(): void {\n        let $switcher = this.getFontSizeSwitcher();\n        if ($switcher.hasClass(\"open\")) {\n            this.hideFontSizeSwitcher();\n        }\n        else {\n            this.showFontSizeSwitcher();\n        }\n    }\n    \n    getFontSize(): string {\n        return this.data.style && this.data.style.fontSize && this.data.style.fontSize in component.mindmap.Mindmap.AVAILABLE_FONT_SIZES ? this.data.style.fontSize : component.mindmap.Mindmap.DEFAULT_FONT_SIZE;\n    }\n    \n    getMargin(): string {\n        return this.data.style && this.data.style.margin && this.data.style.margin in component.mindmap.Mindmap.AVAILABLE_MARGINS ? this.data.style.margin : component.mindmap.Mindmap.DEFAULT_MARGIN;\n    }\n    \n}\n\nfunction randomID(): string {\n    return [\"id\", Math.random().toString(36).substr(2, 5), new Date().getTime()].join(\"-\");\n}\n\n(<any>StyledEditor.prototype).className = \"com.privmx.plugin.editor.window.editor.editors.StyledEditor\";"],"sourceRoot":"../../../../src"}