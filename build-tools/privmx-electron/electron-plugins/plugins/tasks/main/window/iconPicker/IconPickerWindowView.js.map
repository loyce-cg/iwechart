{"version":3,"sources":["window/iconPicker/IconPickerWindowView.ts"],"names":[],"mappings":"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","file":"IconPickerWindowView.js","sourcesContent":["import * as web from \"pmc-web\";\nimport { func as mainTemplate }  from \"./template/main.html\";\nimport { func as iconTemplate }  from \"./template/icon.html\";\nimport { Model } from \"./IconPickerWindowController\";\nimport $ = web.JQuery;\nimport Q = web.Q;\n\nexport class IconPickerWindowView extends web.window.base.BaseWindowView<Model> {\n    \n    iconsExtList: web.component.extlist.ExtListView<string>;\n    colorsExtList: web.component.extlist.ExtListView<string>;\n    \n    constructor(parent: web.Types.app.ViewParent) {\n        super(parent, mainTemplate);\n    }\n    \n    initWindow(model: Model): Q.Promise<void> {\n        this.setModel(model);\n        \n        this.$main.on(\"click\", \"[data-action=save]\", this.onSaveClick.bind(this));\n        this.$main.on(\"click\", \"[data-action=cancel]\", this.onCancelClick.bind(this));\n        this.$main.on(\"click\", \".taskgroup-icon\", this.onIconClick.bind(this));\n        \n        this.iconsExtList = this.addComponent(\"iconsExtList\", new web.component.extlist.ExtListView<string>(this, {\n            template: iconTemplate,\n        }));\n        this.colorsExtList = this.addComponent(\"colorsExtList\", new web.component.extlist.ExtListView<string>(this, {\n            template: iconTemplate,\n        }));\n        \n        this.iconsExtList.$container = this.$main.find(\".icons-extlist-container\");\n        this.colorsExtList.$container = this.$main.find(\".colors-extlist-container\");\n        \n        return Q()\n        .then(() => {\n            return this.iconsExtList.triggerInit();\n        })\n        .then(() => {\n            return this.colorsExtList.triggerInit();\n        })\n        .then(() => {\n            (<any>this.$main.find(\".scrollable-content\")).pfScroll();\n        });\n    }\n    \n    setModel(model: Model): void {\n    }\n    \n    onLinkClick(event: MouseEvent): void {\n        event.preventDefault();\n        this.triggerEventInTheSameTick(\"openUrl\", (<HTMLAnchorElement>event.currentTarget).href);\n    }\n    \n    onCloseClick(): void {\n        this.toggleButtonsEnabled(false);\n        this.triggerEvent(\"close\");\n    }\n    \n    onSaveClick(): void {\n        this.toggleButtonsEnabled(false);\n        this.triggerEvent(\"save\");\n    }\n    \n    onCancelClick(): void {\n        this.toggleButtonsEnabled(false);\n        this.triggerEvent(\"cancel\");\n    }\n    \n    toggleButtonsEnabled(enabled: boolean): void {\n        this.$main.find(\"[data-action=save]\").prop(\"disabled\", !enabled);\n        this.$main.find(\"[data-action=cancel]\").prop(\"disabled\", !enabled);\n    }\n    \n    onIconClick(e: MouseEvent): void {\n        let $el = <JQuery>$(e.currentTarget);\n        let $parent = $el.parent();\n        let idx = $parent.children().index($el);\n        if ($parent.hasClass(\"icons-extlist-container\")) {\n            this.triggerEvent(\"changeIcon\", idx);\n        }\n        else if ($parent.hasClass(\"colors-extlist-container\")) {\n            this.triggerEvent(\"changeColor\", idx);\n        }\n    }\n\n}\n(<any>IconPickerWindowView.prototype).className = \"com.privmx.plugin.tasks.window.iconPicker.IconPickerWindowView\";"],"sourceRoot":"../../../src"}