{"version":3,"sources":["window/notes2/Notes2WindowView.ts"],"names":[],"mappings":"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","file":"Notes2WindowView.js","sourcesContent":["import {component, webUtils, window as wnd, Q, JQuery as $, Types, Logger as RootLogger} from \"pmc-web\";\nimport {func as mainTemplate} from \"./template/main.html\";\nimport {func as editorLoaderTemplate} from \"./template/editor-loader.html\";\nimport {func as emptyPreviewTemplate} from \"./template/empty-preview.html\";\nimport {func as directoryPreviewTemplate} from \"./template/directory-preview.html\";\nimport {Model, DirectoryPreviewModel, TrashedInfoModel} from \"./Notes2WindowController\";\nimport {FilesListView} from \"../../component/fileslist/FilesListView\";\nlet Logger = RootLogger.get(\"notes2-plugin.window.notes2.Notes2WindowView\");\n\nexport enum FocusedElement {\n    SIDEBAR,\n    FILES_LIST,\n    PREVIEW\n}\n\nexport interface HostEntryModel {\n    host: string;\n    sectionsList: component.remotesectionlist.RemoteSectionListView;\n    conv2List: component.remoteconv2list.RemoteConv2ListView;\n}\nexport class Notes2WindowView extends wnd.base.BaseAppWindowView<Model> {\n    \n    static readonly SIDEBAR_MIN_WIDTH = 100;\n    static readonly FILESLIST_MIN_WIDTH = 220;\n    static readonly PREVIEW_MIN_WIDTH = 100;\n    \n    verticalSplitter: component.splitter.SplitterView;\n    filesVerticalSplitter: component.splitter.SplitterView;\n    personsComponent: component.persons.PersonsView;\n    personTooltip: component.persontooltip.PersonTooltipView;\n    notifications: component.notification.NotificationView;\n    $leftPanelFixed: JQuery;\n    $leftPanelSections: JQuery;\n    $leftPanelPeople: JQuery;\n    $editorLoader: JQuery;\n    filesLists: {[id: string]: FilesListView};\n    remoteServers: {[hostHash: string]: HostEntryModel};\n    active: FilesListView;\n    isCtrlKeyDown: boolean = false;\n    leftPanelGroups: string[] = [\"my-files\", /*\"other-files\",*/ \"common-files\", \"conversations\"];\n    dragDrop: component.dragdrop.DragDrop;\n    infoTooltip: component.infotooltip.InfoTooltip;\n    sidebar: component.sidebar.SidebarView;\n    lastFocusedElement: FocusedElement = FocusedElement.SIDEBAR;\n    isSearchOn: boolean = false;\n    sectionTooltip: component.sectiontooltip.SectionTooltipView;\n    disabledSection: component.disabledsection.DisabledSectionView;\n    loading: component.loading.LoadingView;\n    $disabledSectionContainer: JQuery;\n    mostRecentlyActivatedId: string = \"none\";\n    $trashedInfo: JQuery;\n    \n    constructor(parent: Types.app.ViewParent) {\n        super(parent, mainTemplate);\n        this.filesLists = {};\n        this.verticalSplitter = this.addComponent(\"verticalSplitter\", new component.splitter.SplitterView(this, {\n            type: \"vertical\",\n            handlePlacement: \"right\",\n            handleDot: true,\n            firstPanelMinSize: Notes2WindowView.SIDEBAR_MIN_WIDTH,\n            secondPanelMinSize: () => {\n                if (this.filesVerticalSplitter && this.filesVerticalSplitter.$left && this.filesVerticalSplitter.$left.children().length > 0) {\n                    if (this.filesVerticalSplitter.$component.hasClass(\"hide-file-preview\")) {\n                        return Notes2WindowView.FILESLIST_MIN_WIDTH;\n                    }\n                    return this.filesVerticalSplitter.$left.outerWidth() + Notes2WindowView.PREVIEW_MIN_WIDTH;\n                }\n                return Notes2WindowView.FILESLIST_MIN_WIDTH + Notes2WindowView.PREVIEW_MIN_WIDTH;\n            },\n        }));\n        this.filesVerticalSplitter = this.addComponent(\"filesVerticalSplitter\", new component.splitter.SplitterView(this, {\n            type: \"vertical\",\n            handlePlacement: \"right\",\n            handleDot: true,\n            firstPanelMinSize: Notes2WindowView.FILESLIST_MIN_WIDTH,\n            secondPanelMinSize: Notes2WindowView.PREVIEW_MIN_WIDTH,\n        }));\n        this.notifications = this.addComponent(\"notifications\", new component.notification.NotificationView(this, {xs: true}));\n        this.filesVerticalSplitter.addEventListener(\"handleMove\", this.onHandleMove.bind(this));\n        this.personsComponent = this.addComponent(\"personsComponent\", new component.persons.PersonsView(this, this.helper));\n        this.personTooltip = new component.persontooltip.PersonTooltipView(this.templateManager, this.personsComponent);\n        this.disabledSection = this.addComponent(\"disabled-section\", new component.disabledsection.DisabledSectionView(this));\n        this.loading = this.addComponent(\"loading\", new component.loading.LoadingView(this));\n        \n        this.sectionTooltip = this.addComponent(\"sectiontooltip\", new component.sectiontooltip.SectionTooltipView(this));\n        this.sidebar = this.addComponent(\"sidebar\", new component.sidebar.SidebarView(this, {\n            conv2List: {\n                personsView: this.personsComponent,\n                extList: {\n                    template: null\n                }\n            },\n            conv2Splitter: null,\n            customElementList: {\n                extList: {\n                    template: null,\n                    onAfterListRender: this.onAfterRenderCustomList.bind(this)\n                }\n            },\n            sectionList: {\n                extList: {\n                    template: null\n                }\n            },\n            customSectionList: {\n                extList: {\n                    template: null\n                }\n            },\n        }));\n    }\n    \n    onAfterRenderCustomList(): void {\n        this.personsComponent.refreshAvatars();\n    }\n    \n    initWindow(model: Model): Q.Promise<void> {\n        let blurCheckId: NodeJS.Timer;\n        document.addEventListener(\"blur\", () => {\n            clearTimeout(blurCheckId);\n            blurCheckId = setTimeout(() => {\n                let fe = this.getFocusedElement();\n                if (fe != null) {\n                    this.lastFocusedElement = fe;\n                }\n            }, 1);\n        }, true);\n        document.addEventListener(\"focus\", () => {\n            clearTimeout(blurCheckId);\n            let fe = this.getFocusedElementFromEl($(<HTMLElement>document.activeElement));\n            if (fe != null) {\n                this.lastFocusedElement = fe;\n            }\n        }, true);\n        return Q().then(() => {\n            this.turnTimeAgoRefresher();\n            this.$body.on(\"keydown\", this.onKeydown.bind(this));\n            this.personsComponent.$main = this.$main;\n            this.personTooltip.init(this.$main);\n            return this.personsComponent.triggerInit();\n        })\n        .then(() => {\n            this.verticalSplitter.$container = this.$mainContainer;\n            return this.verticalSplitter.triggerInit();\n        })\n        .then(() => {\n            this.verticalSplitter.$left.addClass(\"sidebar-container\");\n            this.sidebar.$container = this.verticalSplitter.$left;//.find(\".l1\");\n            return this.sidebar.triggerInit();\n        })\n        .then(() => {\n            this.verticalSplitter.$right.append($(\"<div class='section-files'></div>\"));\n            this.$disabledSectionContainer = $(\"<div class='disabled-section'>\");\n            this.verticalSplitter.$right.append(this.$disabledSectionContainer);\n            this.disabledSection.$container = this.$disabledSectionContainer;\n            this.disabledSection.triggerInit();\n        })\n        .then(() => {\n            this.filesVerticalSplitter.$container = this.verticalSplitter.$right.find(\".section-files\");\n            return this.filesVerticalSplitter.triggerInit();\n        })\n        .then(() => {\n            this.filesVerticalSplitter.$right.addClass(\"preview-container\").attr(\"tabindex\", \"-1\");\n            this.notifications.$container = this.filesVerticalSplitter.$left;\n            return this.notifications.triggerInit();\n        })\n        .then(() => {\n            let $emptyPreview = this.templateManager.createTemplate(emptyPreviewTemplate).renderToJQ();\n            this.filesVerticalSplitter.$right.append($emptyPreview);\n            this.filesVerticalSplitter.$right.append('<div class=\"trashed-info\"></div>');\n            this.$trashedInfo = this.filesVerticalSplitter.$right.children(\".trashed-info\");\n            this.$editorLoader = this.templateManager.createTemplate(editorLoaderTemplate).renderToJQ();\n            this.filesVerticalSplitter.$right.append(this.$editorLoader);\n            this.makeCustomScroll(this.$main.find(\".left-panel .scrollable-content\"));\n            this.activateFiles(model.activeId);\n            if (model.iframeId != null) {\n                this.showIframe(model.iframeId, model.iframeLoad);\n            }\n            else if (model.directory) {\n                this.showDirectoryPreview(model.directory);\n            }\n        })\n        .then(() => {\n            this.sectionTooltip.refreshAvatars = this.refreshAvatars.bind(this);\n            this.sectionTooltip.$container = this.$main;\n            return this.sectionTooltip.triggerInit();\n        })\n        .then(() => {\n            this.sidebar.usersListTooltip.refreshAvatars = this.refreshAvatars.bind(this);\n            this.loading.$container = this.filesVerticalSplitter.$left;\n            return this.loading.triggerInit();\n        })\n        .then(() => {\n            this.updateShowFilePreview(model.showFilePreview);\n        });\n    }\n    \n    refreshAvatars(): void {\n        this.personsComponent.refreshAvatars();\n    }\n    \n    toggleDisabledSection(show: boolean): void {\n        show ? this.$main.find(\".section-files\").hide() : this.$main.find(\".section-files\").show();\n        this.$disabledSectionContainer.css(\"display\", show ? \"block\" : \"none\");\n    }\n\n    activateFiles(id: string) {\n        // this.loading.onStartLoading();\n        this.mostRecentlyActivatedId = id;\n        this.toggleDisabledSection(false);\n        this.$main.find(\".preview-container\").toggleClass(\"hidden\", id == null);\n        if (id == null) {\n            if (this.active) {\n                this.active.$container.addClass(\"vhidden\");\n                this.active.onDeactivate();\n            }\n            this.loading.onFinishedLoading();\n            return;\n        }\n        if (!(id in this.filesLists)) {\n            this.filesLists[id] = this.addComponent(id, new FilesListView(this, this.personsComponent));\n            this.filesLists[id].$container = $('<div class=\"files-list-container vhidden\"></div>');\n            this.filesVerticalSplitter.$left.append(this.filesLists[id].$container);\n            this.filesVerticalSplitter.$left.addClass(\"notes2-fileslist-component\");\n        }\n        this.filesLists[id].triggerInit()\n        .then(() => {\n            if (this.mostRecentlyActivatedId != id) {\n                return;\n            }\n            let filesList = this.filesLists[id];\n            if (this.active == filesList) {\n                this.loading.onFinishedLoading();\n                return;\n            }\n            if (this.active) {\n                this.active.$container.addClass(\"vhidden\");\n                this.active.onDeactivate();\n            }\n            this.active = filesList;\n            this.dragDrop = new component.dragdrop.DragDrop(this, filesList.$container.children(\".files-list\"));\n            filesList.$container.removeClass(\"vhidden\");\n            filesList.onActivate();\n            this.refreshFocus();\n            this.loading.onFinishedLoading();\n        })\n        .fail(e => {\n            this.loading.onFinishedLoading();\n            Logger.error(\"Cannot create files list\", e);\n        });\n    }\n    \n    onHandleMove(): void {\n        for (let id in this.filesLists) {\n            this.filesLists[id].onResize();\n        }\n    }\n    \n    //=========================\n    //    EDITOR PREVIEW\n    //=========================\n    \n    showEditorLoader(styleName: string): void {\n        this.$editorLoader.attr(\"data-style-name\", styleName || \"\");\n        this.$editorLoader.find(\".inner2\").html('<i class=\"fa fa-circle-o-notch fa-spin\"></i>');\n        this.$editorLoader.removeClass(\"hide\");\n    }\n    \n    hideEditorLoader(): void {\n        this.$editorLoader.addClass(\"hide\");\n        this.$editorLoader.find(\".inner2\").empty();\n    }\n    \n    removeIframe(id: number) {\n        let $container = this.filesVerticalSplitter.$right;\n        $container.find(\".iframe-container#iframe-\" + id).remove();\n    }\n    \n    hideIframe(id: number) {\n        let $container = this.filesVerticalSplitter.$right;\n        $container.find(\".iframe-container#iframe-\" + id).removeClass(\"active\");\n    }\n    \n    clearPreview() {\n        let $container = this.filesVerticalSplitter.$right;\n        $container.find(\".iframe-container:not(.new-active)\").removeClass(\"active\");\n        $container.find(\".iframe-container.new-active\").removeClass(\"new-active\");\n        this.hideDirectoryPreview();\n    }\n    \n    showIframe(id: number, load: Types.app.WindowLoadOptions) {\n        let $container = this.filesVerticalSplitter.$right;\n        let $iframe = $container.find(\".iframe-container#iframe-\" + id);\n        if ($iframe.length > 0) {\n            $iframe.addClass(\"active new-active\");\n            // this.clearPreview();\n            this.hideDirectoryPreview();\n            this.hideEditorLoader();\n        }\n        else {\n            this.clearPreview();\n            let $active = $('<div id=\"iframe-' + id + '\" class=\"iframe-container active\"></div>');\n            $container.append($active);\n            this.viewManager.parent.registerDockedWindow(id, load, $active[0]);\n        }\n        this.triggerEvent(\"afterShowIframe\", id);\n    }\n    \n    showDirectoryPreview(model: DirectoryPreviewModel) {\n        let $container = this.filesVerticalSplitter.$right;\n        this.clearPreview();\n        $container.append(this.templateManager.createTemplate(directoryPreviewTemplate).renderToJQ(model));\n    }\n    \n    hideDirectoryPreview(selectedItemsCount: number = 0) {\n        let $container = this.filesVerticalSplitter.$right;\n        let text = \"\";\n        if (selectedItemsCount == 0) {\n            text = this.i18n(\"plugin.notes2.window.notes2.preview.empty\");\n        }\n        else {\n            text = this.i18n(\"plugin.notes2.window.notes2.preview.multi\", selectedItemsCount);\n        }\n        $container.find(\".empty-info\").find(\".inner-2\").text(text);\n        $container.find(\".directory-preview\").remove();\n    }\n    \n    //=========================\n    //        OTHER\n    //=========================\n    \n    focus() {\n        this.switchToPanel(this.getFocusedElementOrDefault(), true);\n    }\n    \n    refreshFocus() {\n        let fe = this.getFocusedElement();\n        if (fe == FocusedElement.FILES_LIST) {\n            if ($(document.activeElement).closest(\".files-list-container\").get(0) != this.active.$container.get(0)) {\n                this.active.$container.focus();\n            }\n        }\n        else if (fe == null) {\n            this.sidebar.$container.focus();\n        }\n    }\n    \n    getFocusedElementFromEl($ae: JQuery): FocusedElement {\n        if ($ae.closest(\".sidebar-container\").length > 0) {\n            return FocusedElement.SIDEBAR;\n        }\n        if ($ae.closest(\".preview-container\").length > 0) {\n            return FocusedElement.PREVIEW;\n        }\n        if ($ae.closest(\".section-files\").length > 0) {\n            return FocusedElement.FILES_LIST;\n        }\n        return null;\n    }\n    \n    getFocusedElement(): FocusedElement {\n        return this.getFocusedElementFromEl($(<HTMLElement>document.activeElement));\n    }\n    \n    getFocusedElementOrDefault(): FocusedElement {\n        let fe = this.getFocusedElement();\n        return fe == null ? (this.lastFocusedElement == null ? FocusedElement.SIDEBAR : this.lastFocusedElement) : fe;\n    }\n    \n    onKeydown(event: KeyboardEvent): void {\n        if (event.keyCode == webUtils.KEY_CODES.r && event.ctrlKey) {\n            event.preventDefault();\n            this.triggerEvent(\"refresh\");\n        }\n        if (event.keyCode == webUtils.KEY_CODES.tab && !(event.ctrlKey || event.metaKey)) {\n            event.preventDefault();\n            let fe = this.getFocusedElementOrDefault();\n            if (event.shiftKey) {\n                if (fe == FocusedElement.SIDEBAR) {\n                    this.switchToPanel(FocusedElement.PREVIEW, true);\n                }\n                else if (fe == FocusedElement.FILES_LIST) {\n                    this.switchToPanel(FocusedElement.SIDEBAR, true);\n                }\n                else if (fe == FocusedElement.PREVIEW) {\n                    this.switchToPanel(FocusedElement.FILES_LIST, true);\n                }\n            }\n            else {\n                if (fe == FocusedElement.SIDEBAR) {\n                    this.switchToPanel(FocusedElement.FILES_LIST, true);\n                }\n                else if (fe == FocusedElement.FILES_LIST) {\n                    this.switchToPanel(FocusedElement.PREVIEW, true);\n                }\n                else if (fe == FocusedElement.PREVIEW) {\n                    this.switchToPanel(FocusedElement.SIDEBAR, true);\n                }\n            }\n        }\n        else if (document.activeElement == document.body) {\n            if (this.lastFocusedElement == FocusedElement.SIDEBAR) {\n                this.sidebar.onKeydown(event);\n                this.sidebar.$container.focus();\n            }\n            else if (this.lastFocusedElement == FocusedElement.FILES_LIST) {\n                this.active.onKeydown(event);\n                this.active.$container.focus();\n            }\n        }\n        else if ((event.ctrlKey || event.metaKey) && (event.keyCode == webUtils.KEY_CODES.c || event.keyCode == webUtils.KEY_CODES.v || event.keyCode == webUtils.KEY_CODES.x) && $(event.target).closest(\".section-files\").length == 0) {\n            this.active.onKeydown(event);\n        }\n    }\n    \n    switchToPanel(fe: FocusedElement, showHighlight: boolean) {\n        this.$main.find(\".focus-hightlight\").remove();\n        let $highlight = $('<div class=\"focus-hightlight\"></div>');\n        let currentFe = this.getFocusedElement();\n        \n        if (fe == FocusedElement.PREVIEW) {\n            this.triggerEvent(\"activatePreview\");\n            let iframe = <HTMLIFrameElement>this.$main.find(\".iframe-container.active iframe\")[0];\n            if (iframe && iframe.contentWindow) {\n                iframe.contentWindow.focus();\n                try {\n                    let viewInstance = (<any>iframe.contentWindow).privmxViewRequire(\"Starter\").Starter.viewInstance;\n                    if (viewInstance.focus) {\n                        viewInstance.focus();\n                    }\n                }\n                catch (e) {\n                    Logger.error(\"Cannot call focus method in view\");\n                }\n            }\n            else {\n                this.$main.find(\".preview-container\").focus();\n            }\n        }\n        else if (currentFe != fe) {\n            if (fe == FocusedElement.SIDEBAR) {\n                this.sidebar.$container.focus();\n            }\n            else if (fe == FocusedElement.FILES_LIST) {\n                this.active.$container.focus();\n            }\n        }\n        if (showHighlight) {\n            if (fe == FocusedElement.PREVIEW) {\n                this.filesVerticalSplitter.$right.append($highlight);\n            }\n            else if (fe == FocusedElement.SIDEBAR) {\n                this.$main.find(\".sidebar-container\").append($highlight);\n            }\n            else if (fe == FocusedElement.FILES_LIST) {\n                this.filesVerticalSplitter.$left.append($highlight);\n            }\n        }\n        setTimeout(() => {\n            $highlight.remove();\n        }, 500);\n    }\n    \n    switchPanelFromPreview(shiftKey: boolean) {\n        if (shiftKey) {\n            this.switchToPanel(FocusedElement.FILES_LIST, true);\n        }\n        else {\n            this.switchToPanel(FocusedElement.SIDEBAR, true);\n        }\n    }\n    \n    grabFocus(highlight: boolean = true): void {\n        this.switchToPanel(this.getFocusedElementOrDefault(), highlight);\n    }\n    \n    changeIsSearchOn(isOn: boolean): void {\n        this.isSearchOn = isOn;\n        this.sidebar.$container.toggleClass(\"search-on\", isOn);\n        this.personsComponent.refreshAvatars();\n    }\n    \n    updateSetting(settingName: string, settingValue: boolean): void {\n        if (settingName == \"show-file-preview\") {\n            this.updateShowFilePreview(settingValue);\n        }\n    }\n    \n    updateShowFilePreview(showFilePreview: boolean): void {\n        this.filesVerticalSplitter.$component.toggleClass(\"show-file-preview\", showFilePreview);\n        this.filesVerticalSplitter.$component.toggleClass(\"hide-file-preview\", !showFilePreview);\n    }\n    \n    setPreviewTrashedInfo(trashedInfoModelStr: string): void {\n        let trashedInfoModel: TrashedInfoModel = trashedInfoModelStr ? JSON.parse(trashedInfoModelStr) : null;\n        let $trashedInfo = this.$trashedInfo;\n        if (trashedInfoModel) {\n            let who = trashedInfoModel.who;\n            let when = trashedInfoModel.when ? this.helper.calendarDate(trashedInfoModel.when) : null;\n            let from = trashedInfoModel.fullSectionName;\n            let full = !!who;\n            $trashedInfo.html(this.helper.i18n(\n                \"plugin.notes2.window.notes2.trashedInfo.\" + (full ? \"full\" : \"onlySection\"),\n                this.helper.escapeHtml(from),\n                this.helper.escapeHtml(who),\n                this.helper.escapeHtml(when)\n            ));\n        }\n        else {\n            $trashedInfo.empty();\n        }\n    }\n\n    /////////////////////////////\n    //// REMOTE SECTIONS ////////\n    /////////////////////////////\n\n\n    expandRemoteSectionsList(host: string, hostHash: string): void {\n        if (this.isRemoteHostVisible(hostHash)) {\n            this.toggleRemoteHost(hostHash, false);\n            return;\n        }\n        this.sidebar.showHostLoading(hostHash, false);\n        Q().then(() => {\n            if (! this.remoteServers) {\n                this.remoteServers = {};\n            }\n            if (hostHash in this.remoteServers) {\n                return;\n            }\n            let $hostElement = this.$main.find(\".host-element[data-host-id='\" + hostHash + \"']\");\n\n            if (! this.remoteListsExists(hostHash)) {\n                return Q().then(() => {\n                    $hostElement.parent().append($(\"<div class='remote-sections' data-host-id='\" + hostHash + \"'></div>\"));\n                    $hostElement.parent().append($(\"<div class='remote-conversations' data-host-id='\" + hostHash + \"'></div>\"));\n        \n                    let hostModel: HostEntryModel = {\n                        host: host,\n                        sectionsList: this.addComponent(\"remoteSectionsList-\" + hostHash, new component.remotesectionlist.RemoteSectionListView(this, {\n                            extList: {template: null}\n                        })),\n                        conv2List: this.addComponent(\"remoteConv2List-\" + hostHash, new component.remoteconv2list.RemoteConv2ListView(this, {\n                            personsView: this.personsComponent,\n                            extList: {template: null}\n                        }))\n                    };\n                    hostModel.sectionsList.sections.$container = $hostElement.parent().find(\".remote-sections[data-host-id='\" + hostHash + \"']\");\n                    hostModel.conv2List.conversations.$container = $hostElement.parent().find(\".remote-conversations[data-host-id='\" + hostHash + \"']\");\n                    \n                    this.sidebar.remoteSectionLists[hostHash] = hostModel.sectionsList;\n                    this.sidebar.remoteConv2Lists[hostHash] = hostModel.conv2List;\n        \n                    this.remoteServers[hostHash] = hostModel;\n                    return Q.all([\n                        hostModel.sectionsList.triggerInit(),\n                        hostModel.conv2List.triggerInit()\n                    ])        \n                })\n            }\n\n        })\n        .then(() => {\n            this.toggleRemoteHost(hostHash, true);\n        })\n    }\n\n    toggleRemoteHost(hostHash: string, visible: boolean) {\n        let $hostElement = this.$main.find(\".host-element[data-host-id='\" + hostHash + \"']\");\n        $hostElement.parent().find(\".remote-sections[data-host-id='\" + hostHash + \"']\").toggleClass(\"hide\", !visible);\n        $hostElement.parent().find(\".remote-conversations[data-host-id='\" + hostHash + \"']\").toggleClass(\"hide\", !visible);\n        this.sidebar.hostList.toggleHostElementIsExpanded(hostHash, visible);\n    }\n\n    isRemoteHostVisible(hostHash: string): boolean {\n        let $hostElement = this.$main.find(\".host-element[data-host-id='\" + hostHash + \"']\");\n        return ! $hostElement.find(\".fa.expanded\").hasClass(\"hide\");\n    }\n    \n    remoteListsExists(hostHash: string): boolean {\n        let $hostElement = this.$main.find(\".host-element[data-host-id='\" + hostHash + \"']\");\n        let remoteSectionsExists = $hostElement.parent().find(\".remote-sections[data-host-id='\" + hostHash + \"']\").length > 0;\n        return remoteSectionsExists;\n    }\n\n    hideLoading(): void {\n        this.loading.onFinishedLoading();\n    }\n\n}\n\n(<any>Notes2WindowView.prototype).className = \"com.privmx.plugin.notes2.window.notes2.Notes2WindowView\";"],"sourceRoot":"../../../src"}